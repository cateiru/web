(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[361],{3346:function(e,t,n){"use strict";n.d(t,{iA:function(){return d},hr:function(){return m},p3:function(){return x},Th:function(){return v},Tr:function(){return y},Td:function(){return b}});var r=n(63),c=n(4915),i=n(5284),a=n(9676),u=n(1440),o=n(4461),s=n(3808),l=n(7294);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,c={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}var d=(0,r.G)(((e,t)=>{var n=(0,c.j)("Table",e),r=(0,i.Lr)(e),{className:s}=r,d=h(r,["className"]);return l.createElement(a.Fo,{value:n},l.createElement(u.m$.table,f({role:"table",ref:t,__css:n.table,className:(0,o.cx)("chakra-table",s)},d)))}));s.Ts&&(d.displayName="Table");var p=(0,r.G)(((e,t)=>{var{placement:n="bottom"}=e,r=h(e,["placement"]),c=(0,a.yK)();return l.createElement(u.m$.caption,f({},r,{ref:t,__css:f({},c.caption,{captionSide:n})}))}));s.Ts&&(p.displayName="TableCaption");var m=(0,r.G)(((e,t)=>{var n=(0,a.yK)();return l.createElement(u.m$.thead,f({},e,{ref:t,__css:n.thead}))})),x=(0,r.G)(((e,t)=>{var n=(0,a.yK)();return l.createElement(u.m$.tbody,f({},e,{ref:t,__css:n.tbody}))})),v=(0,r.G)(((e,t)=>{var{isNumeric:n}=e,r=h(e,["isNumeric"]),c=(0,a.yK)();return l.createElement(u.m$.th,f({},r,{ref:t,__css:c.th,"data-is-numeric":n}))})),y=(0,r.G)(((e,t)=>{var n=(0,a.yK)();return l.createElement(u.m$.tr,f({role:"row"},e,{ref:t,__css:n.tr}))})),b=(0,r.G)(((e,t)=>{var{isNumeric:n}=e,r=h(e,["isNumeric"]),c=(0,a.yK)();return l.createElement(u.m$.td,f({role:"gridcell"},r,{ref:t,__css:c.td,"data-is-numeric":n}))}))},4903:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/rank",function(){return n(5958)}])},3892:function(e,t,n){"use strict";var r,c,i,a;n.d(t,{h:function(){return r},V:function(){return i}}),(c=r||(r={}))[c.normal=0]="normal",(a=i||(i={})).senju="\u5343\u4f4f",a.hatoyama="\u9ce9\u5c71"},7799:function(e,t,n){"use strict";n.d(t,{h:function(){return b},X:function(){return j}});var r=n(5893),c=n(7294),i=n(8448),a=n(4096),u=n(8017),o=n(4115),s=n(7341),l=n(7389),f=n(2083),h=n(155),d=n(5063),p=n(2804),m=n(6064);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,c=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(o){c=!0,i=o}finally{try{r||null==u.return||u.return()}finally{if(c)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var b=function(e){return(0,r.jsxs)(c.Fragment,{children:[(0,r.jsx)(i.M,{marginBottom:"2rem",children:(0,r.jsxs)(a.k,{width:"20rem",children:[(0,r.jsx)(u.xu,{display:"flex",justifyContent:"center",alignItems:"center",children:(0,r.jsx)(o.x,{fontSize:"1.3rem",fontWeight:"bold",marginLeft:"1.2rem",color:(0,f.O)("textPrimary"),children:e.title})}),(0,r.jsx)(s.L,{}),(0,r.jsx)(d.default,{href:"/",children:(0,r.jsx)(l.z,{borderRadius:"2rem",leftIcon:(0,r.jsx)(h.KkC,{}),backgroundColor:(0,f.O)("buttonSecondly"),color:(0,f.O)("buttonIconSecondly"),width:"9rem",children:(0,r.jsx)(o.x,{color:(0,f.O)("textPrimary"),children:"\u30db\u30fc\u30e0\u3078\u623b\u308b"})})})]})}),e.children]})},j=function(e){var t=y((0,p.FV)(m.Jk),2)[1],n=y((0,p.FV)(m.vx),2)[1];return(0,r.jsx)(d.default,{href:e.link,children:(0,r.jsx)(l.z,v({onClick:function(){t(!1),n(!1)}},e.buttonProps,{children:e.children}))})}},5958:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(5893),c=n(7294),i=n(8448),a=n(8017),u=n(4115),o=n(7799),s=n(6064),l=n(2804),f=n(5063),h=n(3346),d=n(1529),p=n(980);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,c=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(o){c=!0,i=o}finally{try{r||null==u.return||u.return()}finally{if(c)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var x=function(){var e=(0,p.useToast)(),t=m(c.useState([]),2),n=t[0],r=t[1],i=(0,l.Zl)(s.jd);return[n,function(){i(!0),(new d.Z).rank().then((function(e){r(e),i(!1)})).catch((function(t){i(!1),e({title:"\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u53d6\u5f97\u3067\u304d\u307e\u305b\u3093\u3067\u3057\u305f",description:t.message,status:"error",isClosable:!0})}))}]};function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,c=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(o){c=!0,i=o}finally{try{r||null==u.return||u.return()}finally{if(c)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var y=function(){var e=v(x(),2),t=e[0],n=e[1];return c.useEffect((function(){n()}),[]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(h.iA,{variant:"striped",size:"md",children:[(0,r.jsx)(h.hr,{children:(0,r.jsxs)(h.Tr,{children:[(0,r.jsx)(h.Th,{children:(0,r.jsx)(u.x,{textAlign:"center",fontSize:"1rem",children:"\u9806\u4f4d"})}),(0,r.jsx)(h.Th,{children:(0,r.jsx)(u.x,{textAlign:"center",fontSize:"1rem",children:"\u30e6\u30fc\u30b6"})}),(0,r.jsx)(h.Th,{children:(0,r.jsx)(u.x,{textAlign:"center",fontSize:"1rem",children:"\u30ed\u30b0\u6570"})})]})}),(0,r.jsx)(h.p3,{children:t.map((function(e,t){return(0,r.jsxs)(h.Tr,{children:[(0,r.jsx)(h.Td,{children:(0,r.jsx)(u.x,{textAlign:"center",children:t+1})}),(0,r.jsx)(h.Td,{children:(0,r.jsx)(u.x,{textAlign:"center",children:e.name})}),(0,r.jsx)(h.Td,{children:(0,r.jsx)(u.x,{textAlign:"center",children:e.number_of_logs})})]},t)}))})]})})},b=function(){var e=(0,l.sJ)(s.K5);return(0,r.jsx)(o.h,{title:"\u30e9\u30f3\u30ad\u30f3\u30b0",children:e?(0,r.jsx)(y,{}):(0,r.jsx)(i.M,{children:(0,r.jsxs)(a.xu,{textAlign:"center",children:[(0,r.jsx)(u.x,{fontWeight:"bold",fontSize:"1.1rem",children:"\u30af\u30e9\u30a6\u30c9\u4fdd\u5b58\u3092\u6709\u52b9\u306b\u3057\u3066\u304f\u3060\u3055\u3044"}),(0,r.jsxs)(u.x,{marginY:"1rem",children:["\u30e9\u30f3\u30ad\u30f3\u30b0\u3092\u8868\u793a\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u30af\u30e9\u30a6\u30c9\u4fdd\u5b58\u3092\u6709\u52b9\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002",(0,r.jsx)("br",{}),(0,r.jsx)(u.x,{as:"span",_hover:{textDecoration:"underline"},fontWeight:"bold",children:(0,r.jsx)(f.default,{href:"/setting",children:"\u8a2d\u5b9a"})}),"\u3067\u6709\u52b9\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]})]})})})},j=function(){return(0,r.jsx)(a.xu,{margin:"2.3rem 1.6rem 1rem 1.6rem",children:(0,r.jsx)(b,{})})}},1529:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(5666),c=n.n(r),i=n(3892);function a(e,t,n,r,c,i,a){try{var u=e[i](a),o=u.value}catch(s){return void n(s)}u.done?t(o):Promise.resolve(o).then(r,c)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,c){var i=e.apply(t,n);function u(e){a(i,r,c,u,o,"next",e)}function o(e){a(i,r,c,u,o,"throw",e)}u(void 0)}))}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.api="https://api.tdu.app",this.userApi="".concat(this.api,"/user"),this.logApi="".concat(this.api,"/log")}var t,n,r;return t=e,(n=[{key:"createAccount",value:function(e){return u(c().mark((function t(){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=this.fetchOption("POST")).body="user_name=".concat(e),t.next=4,fetch(this.userApi,n);case 4:return r=t.sent,t.next=7,this.checkStatus(r);case 7:return t.next=9,r.json();case 9:return t.abrupt("return",t.sent.id);case 10:case"end":return t.stop()}}),t,this)})).bind(this))()}},{key:"getUserInfo",value:function(e){return u(c().mark((function t(){var n,r,i,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={method:"GET"},t.next=3,fetch("".concat(this.userApi,"?id=").concat(e),n);case 3:return r=t.sent,t.next=6,this.checkStatus(r);case 6:return t.next=8,r.json();case 8:return i=t.sent,a={id:i.id,name:i.name,numberOfLogs:i.number_of_logs,createDate:i.create_date,updateDate:new Date},t.abrupt("return",a);case 11:case"end":return t.stop()}}),t,this)})).bind(this))()}},{key:"changeName",value:function(e,t){return u(c().mark((function n(){var r,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=this.fetchOption("POST")).body="id=".concat(e,"&user_name=").concat(t),n.next=4,fetch(this.userApi,r);case 4:return i=n.sent,n.next=7,this.checkStatus(i);case 7:case"end":return n.stop()}}),n,this)})).bind(this))()}},{key:"deleteUser",value:function(e){return u(c().mark((function t(){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.fetchOption("DELETE"),t.next=3,fetch("".concat(this.userApi,"?id=").concat(e),n);case 3:return r=t.sent,t.next=6,this.checkStatus(r);case 6:case"end":return t.stop()}}),t,this)})).bind(this))()}},{key:"rank",value:function(){return u(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.fetchOption("GET"),e.next=3,fetch("".concat(this.api,"/rank"),t);case 3:return n=e.sent,e.next=6,this.checkStatus(n);case 6:return e.next=8,n.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e,this)})).bind(this))()}},{key:"addLog",value:function(e,t){return u(c().mark((function n(){var r,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=this.fetchOption("POST")).body="id=".concat(e,"&date=").concat(t.date.toISOString(),"&campus=").concat(t.campus,"&log_type=").concat(t.type,"&code=").concat(t.code),n.next=4,fetch(this.logApi,r);case 4:return i=n.sent,n.next=7,this.checkStatus(i);case 7:case"end":return n.stop()}}),n,this)})).bind(this))()}},{key:"getLogs",value:function(e){return u(c().mark((function t(){var n,r,a,u,o,s,l,f,h,d;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.fetchOption("GET"),t.next=3,fetch("".concat(this.logApi,"?id=").concat(e),n);case 3:return r=t.sent,t.next=6,this.checkStatus(r);case 6:return t.next=8,r.json();case 8:for(a=t.sent,u=[],o=!0,s=!1,l=void 0,t.prev=11,f=a[Symbol.iterator]();!(o=(h=f.next()).done);o=!0)d=h.value,u.push({campus:this.selectCampus(d.campus),code:d.code,type:i.h[d.log_type],label:d.label,date:new Date(d.date)});t.next=19;break;case 15:t.prev=15,t.t0=t.catch(11),s=!0,l=t.t0;case 19:t.prev=19,t.prev=20,o||null==f.return||f.return();case 22:if(t.prev=22,!s){t.next=25;break}throw l;case 25:return t.finish(22);case 26:return t.finish(19);case 27:return t.abrupt("return",u);case 28:case"end":return t.stop()}}),t,this,[[11,15,19,27],[20,,22,26]])})).bind(this))()}},{key:"checkStatus",value:function(e){return u(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=11;break}return t.t0=Error,t.t1="".concat(e.status,": "),t.next=5,e.text();case 5:if(t.t2=t.sent,t.t2){t.next=8;break}t.t2="No Text";case 8:throw t.t3=t.t2,t.t4=t.t1.concat.call(t.t1,t.t3),new t.t0(t.t4);case 11:case"end":return t.stop()}}),t)})))()}},{key:"selectCampus",value:function(e){switch(e){case"\u5343\u4f4f":return i.V.senju;case"\u9ce9\u5c71":return i.V.hatoyama}}},{key:"fetchOption",value:function(e){var t={credentials:"include",mode:"cors"};return l("POST"===e?{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"}}:{method:e},t)}}])&&o(t.prototype,n),r&&o(t,r),e}()}},function(e){e.O(0,[260,949,666,774,888,179],(function(){return t=4903,e(e.s=t);var t}));var t=e.O();_N_E=t}]);