_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{"/EDR":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r("23aj")}])},"155x":function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var a=r("epLR"),n=r("KwD7"),i=r("kiPq");function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}function l(e){var t=function(e){var t,r,a,l=Object(i.b)(),{id:s,disabled:d,readOnly:b,required:j,isRequired:u,isInvalid:O,isReadOnly:h,isDisabled:m,onFocus:f,onBlur:g}=e,p=o(e,["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"]),x=[];null!=l&&l.hasFeedbackText&&null!=l&&l.isInvalid&&x.push(l.feedbackId);null!=l&&l.hasHelpText&&x.push(l.helpTextId);return c({},p,{"aria-describedby":x.join(" ")||void 0,id:null!=s?s:null==l?void 0:l.id,isDisabled:null!=(t=null!=d?d:m)?t:null==l?void 0:l.isDisabled,isReadOnly:null!=(r=null!=b?b:h)?r:null==l?void 0:l.isReadOnly,isRequired:null!=(a=null!=j?j:u)?a:null==l?void 0:l.isRequired,isInvalid:null!=O?O:null==l?void 0:l.isInvalid,onFocus:Object(n.a)(null==l?void 0:l.onFocus,f),onBlur:Object(n.a)(null==l?void 0:l.onBlur,g)})}(e),{isDisabled:r,isInvalid:l,isReadOnly:s,isRequired:d}=t;return c({},o(t,["isDisabled","isInvalid","isReadOnly","isRequired"]),{disabled:r,readOnly:s,required:d,"aria-invalid":Object(a.a)(l),"aria-required":Object(a.a)(d),"aria-readonly":Object(a.a)(s)})}},"23aj":function(e,t,r){"use strict";r.r(t);var a=r("nKUr"),n=r("q1tI"),i=r.n(n),c=r("xvhg"),o=r("MAJE"),l=r("+p43"),s=r("5KJR"),d=r("tofy"),b=r("v7Hm"),j=r("sKyC"),u=r("U6LL"),O=r("BXwj"),h=r("pr4h"),m=r("zlS4");function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}var p=n.forwardRef(((e,t)=>{var{htmlWidth:r,htmlHeight:a,alt:i}=e,c=g(e,["htmlWidth","htmlHeight","alt"]);return n.createElement("img",f({width:r,height:a,ref:t,alt:i},c))})),x=Object(j.a)(((e,t)=>{var{fallbackSrc:r,fallback:a,src:i,align:c,fit:o,loading:l,ignoreFallback:s,crossOrigin:d}=e,b=g(e,["fallbackSrc","fallback","src","align","fit","loading","ignoreFallback","crossOrigin"]),j=null!=l||s,h=function(e){var{src:t,srcSet:r,onLoad:a,onError:i,crossOrigin:c,sizes:o,ignoreFallback:l}=e,[s,d]=Object(n.useState)("pending");Object(n.useEffect)((()=>{d(t?"loading":"pending")}),[t]);var b=Object(n.useRef)(),j=Object(n.useCallback)((()=>{if(t){u();var e=new Image;e.src=t,c&&(e.crossOrigin=c),r&&(e.srcset=r),o&&(e.sizes=o),e.onload=e=>{u(),d("loaded"),null==a||a(e)},e.onerror=e=>{u(),d("failed"),null==i||i(e)},b.current=e}}),[t,c,r,o,a,i]),u=()=>{b.current&&(b.current.onload=null,b.current.onerror=null,b.current=null)};return Object(m.a)((()=>{if(!l)return"loading"===s&&j(),()=>{u()}}),[s,j,l]),l?"loaded":s}(f({},e,{ignoreFallback:j})),x=f({ref:t,objectFit:o,objectPosition:c},j?b:Object(O.f)(b,["onError","onLoad"]));return"loaded"!==h?a||n.createElement(u.a.img,f({as:p,className:"chakra-image__placeholder",src:r},x)):n.createElement(u.a.img,f({as:p,src:i,crossOrigin:d,loading:l,className:"chakra-image"},x))}));h.a&&(x.displayName="Image");var v=r("uMdk"),y=r("RW2Z"),k=r("z7pX"),w=r("M/Vb"),R=r("0HfK"),C=r("epLR");r("ypkU"),Object.freeze(["base","sm","md","lg","xl","2xl"]);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var I=Object(j.a)(((e,t)=>{var r,a,{ratio:i=4/3,children:c,className:o}=e,l=function(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,["ratio","children","className"]),s=n.Children.only(c),d=Object(C.b)("chakra-aspect-ratio",o);return n.createElement(u.a.div,P({ref:t,position:"relative",className:d,_before:{height:0,content:'""',display:"block",paddingBottom:(r=i,a=e=>1/e*100+"%",Object(h.c)(r)?r.map((e=>null===e?null:a(e))):Object(h.h)(r)?Object(O.e)(r).reduce(((e,t)=>(e[t]=a(r[t]),e)),{}):null!=r?a(r):null)},__css:{"& > *:not(style)":{overflow:"hidden",position:"absolute",top:"0",right:"0",bottom:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},"& > img, & > video":{objectFit:"cover"}}},l),s)}));h.a&&(I.displayName="AspectRatio");var _=r("7Ozu"),N=r.n(_),E={video:{facingMode:"environment",aspectRatio:{ideal:1}}};var S=r("T1Xd"),W=r("uK0Q"),z=function(){var e=Object(S.d)(W.h),t=Object(c.a)(e,2),r=t[0],n=t[1],o=Object(S.d)(W.g),l=Object(c.a)(o,2),d=l[0],b=l[1],j=Object(S.d)(W.k),u=Object(c.a)(j,2),O=u[0],h=u[1],m=Object(S.d)(W.f),f=Object(c.a)(m,2)[1],g=document.createElement("video"),p=i.a.useRef(null),x=null,v=0,y=null;i.a.useEffect((function(){x=p.current.getContext("2d"),h(!0),navigator.mediaDevices.getUserMedia(E).then((function(e){g.srcObject=e,y=e,g.setAttribute("playsinline","true"),g.play(),b(!1),v=requestAnimationFrame(k)})).catch((function(){h(!1)}))}),[]);var k=function e(){var t=p.current;try{if(g.readyState===g.HAVE_ENOUGH_DATA&&x){t.height=270,t.width=270,x.drawImage(g,0,0,t.width,t.height);var r=x.getImageData(0,0,t.width,t.height),a=N()(r.data,r.width,r.height,{inversionAttempts:"dontInvert"});a&&(f(a.data),function(e,t,r,a,n){n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.lineTo(a.x,a.y),n.lineTo(r.x,r.y),n.closePath(),n.lineWidth=4,n.strokeStyle="rgba(245, 27, 60, 1)",n.stroke(),n.fillStyle="rgba(245, 27, 60, 0.5)",n.fill()}(a.location.topLeftCorner,a.location.topRightCorner,a.location.bottomLeftCorner,a.location.bottomRightCorner,x),setTimeout((function(){if(a.data&&""!==a.data)return n(!0),cancelAnimationFrame(v),void y.getTracks().forEach((function(e){return e.stop()}))}),500)),O||cancelAnimationFrame(v)}v=requestAnimationFrame(e)}catch(i){return cancelAnimationFrame(v),y.getTracks().forEach((function(e){return e.stop()})),void h(!0)}};return Object(a.jsx)(s.a,{children:Object(a.jsx)("canvas",{ref:p,hidden:r||d})})},L=r("KP9Q"),D=r("Teo5"),F=r("5jRf"),T=function(e){var t=e.text;return Object(a.jsxs)(d.a,{children:[Object(a.jsx)(b.a,{display:"flex",justifyContent:"center",alignItems:"center",margin:"0 1rem 0 0",children:Object(a.jsx)(y.d,{size:"2rem",color:Object(D.a)("mainSecondly")})}),Object(a.jsx)(o.a,{fontWeight:"bold",fontSize:"1.3rem",color:Object(D.a)("textPrimary"),children:t})]})},q=function(e,t,r){return e&&t?Object(a.jsx)(w.a,{thickness:"4px",size:"xl",color:Object(D.a)("mainSecondly"),position:"absolute",zIndex:"1"}):!t||r?Object(a.jsx)("button",{onClick:function(){location.reload()},children:r?Object(a.jsx)(y.i,{size:"3rem",color:Object(D.a)("mainSecondly")}):Object(a.jsx)(y.k,{size:"3rem",color:Object(D.a)("mainSecondly")})}):void 0},B=function(){var e=Object(R.a)(),t=Object(S.d)(W.h),r=Object(c.a)(t,1)[0],n=Object(S.d)(W.g),l=Object(c.a)(n,1)[0],s=Object(S.d)(W.k),d=Object(c.a)(s,1)[0],j=Object(S.d)(W.f),u=Object(c.a)(j,1)[0],O=Object(S.d)(W.a),h=Object(c.a)(O,2),m=h[0],f=h[1],g=Object(S.d)(W.d),p=Object(c.a)(g,2),x=p[0],v=p[1];return i.a.useEffect((function(){f(!0)}),[]),i.a.useEffect((function(){if(!r&&d||f(!1),r){var t=new F.a(u);if(t.validateQrData()){var n=Object(k.a)(x),i=t.parseQrData(),c={label:"",code:u,date:(new Date).toLocaleString("ja-JP"),type:L.b.normal,campus:t.getLogCampus()};n.push(c),v(n),e({title:"\u8aad\u307f\u53d6\u308a\u5b8c\u4e86",description:Object(a.jsxs)(o.a,{wordBreak:"break-all",children:[i.buildingNumber,"\u53f7\u9928\xa0",i.floorNumber,"\u968e\xa0",i.roomNumber,"\u6559\u5ba4"]}),status:"info",duration:4e3,isClosable:!0})}else e({title:"QR\u30b3\u30fc\u30c9\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093",description:Object(a.jsx)(o.a,{wordBreak:"break-all",children:u}),status:"error",duration:4e3,isClosable:!0})}}),[r,d]),Object(a.jsx)(I,{max:"100px",ratio:1,children:Object(a.jsxs)(b.a,{width:"100px",border:"solid 2px",borderColor:Object(D.a)("background"),backgroundColor:Object(D.a)("background"),borderRadius:"2rem",position:"relative",zIndex:"1",children:[q(l,d,r),Object(a.jsx)(b.a,{position:"absolute",zIndex:"0",borderRadius:"2rem",width:"100%",children:m?Object(a.jsx)(z,{}):null})]})})},A=function(){var e,t,r,n=Object(S.d)(W.g),i=Object(c.a)(n,1)[0],o=Object(S.d)(W.k),l=Object(c.a)(o,1)[0],s=Object(S.d)(W.h),d=Object(c.a)(s,1)[0];return Object(a.jsx)(b.a,{color:Object(D.a)("textSecondly"),children:(e=i,t=d,r=l,r?e?"\u30ab\u30e1\u30e9\u5f85\u6a5f\u4e2d":t?"\u8aad\u307f\u53d6\u308a\u5b8c\u4e86":"\u8aad\u307f\u53d6\u308a\u5f85\u6a5f\u4e2d":"\u30ab\u30e1\u30e9\u505c\u6b62\u4e2d")})},H=function(){return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(s.a,{children:Object(a.jsxs)(b.a,{backgroundColor:Object(D.a)("mainPrimary"),margin:"2rem 0 0 0",padding:"1.5rem 1.5rem 0 1.5rem",borderRadius:"1.5rem",width:"20rem",children:[Object(a.jsx)(b.a,{color:"white",margin:"0 0 0 .2rem",children:Object(a.jsx)(T,{text:"QR\u30b3\u30fc\u30c9\u8aad\u307f\u53d6\u308a"})}),Object(a.jsx)(b.a,{margin:"1rem .2rem .2rem .2rem",children:Object(a.jsx)(B,{})}),Object(a.jsx)(s.a,{padding:".8rem 0 .8rem 0",children:Object(a.jsx)(A,{})})]})}),Object(a.jsx)(s.a,{margin:"1rem 0 1rem 0",children:Object(a.jsx)(o.a,{fontWeight:"bold",fontSize:".9rem",color:Object(D.a)("textPrimary"),children:"\u307e\u305f\u306f"})})]})},K=r("VP/N"),M=r("3L07"),Q=r("ueHc"),J=r("kiPq"),U=r("155x"),X=r("4jWa"),V=r("CRla");function G(){return(G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var Z=Object(j.a)(((e,t)=>{var r=Object(X.a)("Input",e),a=Object(V.b)(e),i=Object(U.a)(a),c=Object(C.b)("chakra-input",e.className);return n.createElement(u.a.input,G({},i,{__css:r.field,ref:t,className:c}))}));h.a&&(Z.displayName="Input"),Z.id="Input";var Y=function(){var e=Object(R.a)(),t=Object(K.a)(),r=t.isOpen,n=t.onOpen,i=t.onClose,l=Object(S.d)(W.b),d=Object(c.a)(l,2),b=d[0],j=d[1],u=Object(S.d)(W.d),O=Object(c.a)(u,2),h=O[0],m=O[1],f=function(){i(),j("")};return Object(a.jsxs)(s.a,{children:[Object(a.jsx)(M.a,{backgroundColor:Object(D.a)("buttonPrimary"),borderRadius:"1.5rem",padding:"2rem 3rem 2rem 3rem",width:"20rem",onClick:n,children:Object(a.jsx)(o.a,{fontWeight:"medium",fontSize:"1.2rem",color:Object(D.a)("textPrimary"),children:"\u5ea7\u5e2d\u30b3\u30fc\u30c9\u3092\u76f4\u63a5\u5165\u529b\u3059\u308b"})}),Object(a.jsxs)(Q.a,{isOpen:r,onClose:f,isCentered:!0,motionPreset:"slideInBottom",size:"sm",children:[Object(a.jsx)(Q.g,{}),Object(a.jsxs)(Q.d,{children:[Object(a.jsx)(Q.f,{color:Object(D.a)("textPrimary"),margin:"1rem 0 .5rem 0",children:"\u5ea7\u5e2d\u30b3\u30fc\u30c9\u3092\u76f4\u63a5\u5165\u529b\u3059\u308b"}),Object(a.jsx)(Q.c,{size:"lg"}),Object(a.jsx)(Q.b,{pb:6,children:Object(a.jsx)(J.a,{children:Object(a.jsx)(Z,{size:"lg",value:b,onChange:function(e){j(e.target.value)},placeholder:"\u5ea7\u5e2d\u30b3\u30fc\u30c9"})})}),Object(a.jsxs)(Q.e,{children:[Object(a.jsx)(M.a,{backgroundColor:Object(D.a)("mainPrimary"),mr:3,onClick:function(){var t="jp.ac.dendai/".concat(b),r=new F.a(t);if(r.validateQrData()){var n=Object(k.a)(h),c=r.parseQrData(),l={label:"",code:t,date:(new Date).toLocaleString("ja-JP"),type:L.b.normal,campus:r.getLogCampus()};n.push(l),m(n),i(),j(""),e({title:"\u8ffd\u52a0\u5b8c\u4e86",description:Object(a.jsxs)(o.a,{wordBreak:"break-all",children:[c.buildingNumber,"\u53f7\u9928\xa0",c.floorNumber,"\u968e\xa0",c.roomNumber,"\u6559\u5ba4"]}),status:"info",duration:4e3,isClosable:!0})}else e({title:"\u5ea7\u5e2d\u30b3\u30fc\u30c9\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093",status:"error",duration:4e3,isClosable:!0})},children:"\u4fdd\u5b58"}),Object(a.jsx)(M.a,{color:Object(D.a)("textPrimary"),variant:"ghost",onClick:f,children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]})]})]})},$=r("9wln"),ee=r("LHjV"),te=function(e){var t=e.link;return Object(a.jsx)(ee.b,{buttonProps:{borderRadius:"2rem",leftIcon:Object(a.jsx)(y.j,{}),backgroundColor:Object(D.a)("buttonSecondly"),color:Object(D.a)("buttonIconSecondly"),width:"6.2rem"},link:t,children:Object(a.jsx)(o.a,{color:Object(D.a)("textPrimary"),children:"\u8a2d\u5b9a"})})},re=function(e){var t=e.title,r=e.link;return Object(a.jsx)(ee.b,{buttonProps:{borderRadius:"1.5rem",width:"20rem",backgroundColor:Object(D.a)("buttonSecondly"),padding:"1rem .5rem 1rem .5rem"},link:r,children:Object(a.jsx)(o.a,{color:Object(D.a)("textPrimary"),children:t})})},ae=function(){var e=Object(S.d)(W.d),t=Object(c.a)(e,1)[0],r=Object(l.c)().colorMode;return Object(a.jsxs)(i.a.Fragment,{children:[Object(a.jsx)(s.a,{children:Object(a.jsxs)(d.a,{width:"20rem",justifyContent:"center",alignItems:"center",children:[Object(a.jsx)(b.a,{children:Object(a.jsx)(x,{src:"light"===r?"/static/images/logcation.svg":"/static/images/logcation_dark.svg",htmlWidth:"70%",htmlHeight:"70%",alt:"Logcation"})}),Object(a.jsx)(b.a,{children:Object(a.jsx)(te,{link:"/setting"})})]})}),Object(a.jsx)(H,{}),Object(a.jsx)(Y,{}),Object(a.jsx)(s.a,{margin:"2rem 0 2rem 0",children:Object(a.jsx)(v.a,{colorScheme:Object(D.a)("divider"),borderWidth:"1px",width:"20rem"})}),Object(a.jsx)(s.a,{margin:"1rem 0 1rem 0",children:Object(a.jsx)(re,{title:"\u7740\u5e2d\u5c65\u6b74\u306e\u78ba\u8a8d",link:"/history"})}),Object(a.jsx)(s.a,{margin:"1rem 0 1rem 0",children:Object(a.jsx)(re,{title:"\u30c4\u30a4\u30fc\u30c8",link:Object($.e)(t)})})]})},ne=r("zRbM");t.default=function(){return Object(a.jsx)(ne.a,{children:Object(a.jsx)(b.a,{margin:"2.3rem 1.6rem 1rem 1.6rem",children:Object(a.jsx)(ae,{})})})}},uMdk:function(e,t,r){"use strict";r.d(t,"a",(function(){return j}));var a=r("sKyC"),n=r("4jWa"),i=r("CRla"),c=r("U6LL"),o=r("epLR"),l=r("pr4h"),s=r("q1tI");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var r,a,n={},i=Object.keys(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}var j=Object(a.a)(((e,t)=>{var r=Object(n.b)("Divider",e),{borderLeftWidth:a,borderBottomWidth:l,borderTopWidth:j,borderRightWidth:u,borderWidth:O,borderStyle:h,borderColor:m}=r,f=b(r,["borderLeftWidth","borderBottomWidth","borderTopWidth","borderRightWidth","borderWidth","borderStyle","borderColor"]),g=Object(i.b)(e),{className:p,orientation:x="horizontal",__css:v}=g,y=b(g,["className","orientation","__css"]),k={vertical:{borderLeftWidth:a||u||O||"1px",height:"100%"},horizontal:{borderBottomWidth:l||j||O||"1px",width:"100%"}};return s.createElement(c.a.hr,d({ref:t,"aria-orientation":x},y,{__css:d({},f,{border:"0",borderColor:m,borderStyle:h},k[x],v),className:Object(o.b)("chakra-divider",p)}))}));l.a&&(j.displayName="Divider")}},[["/EDR",1,2,3,6,7,8,0,4,5]]]);